
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ù–æ–≤–æ–≥–æ–¥–Ω–∏–µ —Å–ª–æ–≤–∞ - –ò–≥—Ä–∞ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è —Å–ª–æ–≤–∞—Ä–Ω—ã—Ö —Å–ª–æ–≤</title>
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html, body {
            font-family: 'Comic Neue', cursive;
            background: linear-gradient(180deg, #0c2461 0%, #1e3799 30%, #4a69bd 100%);
            color: #fff;
            width: 100%;
            height: 100%;
            overflow-x: hidden;
            position: relative;
        }

        .game-container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* –®–∞–ø–∫–∞ –∏–≥—Ä—ã */
        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 30px;
            background: linear-gradient(90deg, rgba(255,87,34,0.9), rgba(255,152,0,0.9));
            border-radius: 20px;
            margin-bottom: 25px;
            border: 3px solid #FF9800;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            flex-shrink: 0;
        }

        .lives {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1rem;
            font-weight: bold;
            white-space: nowrap;
        }

        .hearts {
            display: flex;
            gap: 5px;
        }

        .heart {
            font-size: 1.5rem;
            animation: pulse 2s infinite;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .stats {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .timer-container, .bonus-container {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
            background: rgba(255,255,255,0.15);
            padding: 6px 12px;
            border-radius: 15px;
            border: 2px solid rgba(255,255,255,0.3);
            white-space: nowrap;
        }

        #timer, #bonus-count {
            font-weight: bold;
            font-size: 1.1rem;
            color: #FFEB3B;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }

        .progress {
            flex: 1;
            max-width: 500px;
            margin: 0 15px;
            min-width: 150px;
        }

        .progress-text {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-size: 0.9rem;
            font-weight: bold;
            white-space: nowrap;
        }

        .progress-bar {
            height: 16px;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 8px;
            overflow: hidden;
            border: 2px solid rgba(255,255,255,0.3);
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.2);
        }

        .progress-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #00C853, #64DD17, #AEEA00);
            border-radius: 8px;
            transition: width 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
            position: relative;
            overflow: hidden;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(255,255,255,0.4) 50%, 
                transparent 100%);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .dictionary-btn {
            padding: 10px 20px;
            font-size: 1rem;
            background: linear-gradient(45deg, #2196F3, #0D47A1);
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Comic Neue', cursive;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(33, 150, 243, 0.4);
            white-space: nowrap;
        }

        .dictionary-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 20px rgba(33, 150, 243, 0.6);
        }

        /* –ò–≥—Ä–æ–≤–∞—è —Å—Ü–µ–Ω–∞ */
        .game-scene {
            position: relative;
            flex: 1;
            background: linear-gradient(180deg, 
                rgba(13, 71, 161, 0.9) 0%, 
                rgba(25, 118, 210, 0.9) 30%,
                rgba(66, 165, 245, 0.9) 100%);
            border-radius: 25px;
            border: 4px solid #fff;
            box-shadow: 
                0 15px 35px rgba(0, 0, 0, 0.4),
                inset 0 0 50px rgba(255,255,255,0.1);
            display: flex;
            overflow: hidden;
            min-height: 500px;
        }

        /* –õ–µ–≤–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ - —ë–ª–∫–∞ –∏ –¥–µ–¥ –º–æ—Ä–æ–∑ */
        .left-side {
            width: 40%;
            position: relative;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            flex-shrink: 0;
        }

        .tree-container {
            position: relative;
            width: 100%;
            max-width: 300px;
            height: 300px;
            margin-bottom: 20px;
        }

        #tree {
            width: 100%;
            height: 100%;
            background: url('tree.png') no-repeat center bottom;
            background-size: contain;
            filter: drop-shadow(0 10px 20px rgba(0,0,0,0.5));
        }

        .garland {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 1s;
            z-index: 2;
            pointer-events: none;
        }

        .light {
            position: absolute;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            animation: twinkle 1.5s infinite;
            box-shadow: 0 0 15px currentColor;
            background: currentColor;
        }

        .light:nth-child(1) { top: 10%; left: 35%; color: #ff0000; animation-delay: 0s; }
        .light:nth-child(2) { top: 20%; left: 55%; color: #00ff00; animation-delay: 0.2s; }
        .light:nth-child(3) { top: 30%; left: 25%; color: #0000ff; animation-delay: 0.4s; }
        .light:nth-child(4) { top: 40%; left: 65%; color: #ffff00; animation-delay: 0.6s; }
        .light:nth-child(5) { top: 50%; left: 45%; color: #ff00ff; animation-delay: 0.8s; }
        .light:nth-child(6) { top: 60%; left: 75%; color: #00ffff; animation-delay: 1s; }
        .light:nth-child(7) { top: 70%; left: 35%; color: #ff8800; animation-delay: 1.2s; }
        .light:nth-child(8) { top: 80%; left: 55%; color: #88ff00; animation-delay: 1.4s; }
        .light:nth-child(9) { top: 90%; left: 25%; color: #0088ff; animation-delay: 1.6s; }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(0.8); }
            50% { opacity: 1; transform: scale(1.3); }
        }

        .santa-container {
            position: relative;
            width: 100%;
            max-width: 200px;
            height: 200px;
        }

        #santa {
            width: 100%;
            height: 100%;
            background: url('santa.png') no-repeat center;
            background-size: contain;
            filter: drop-shadow(0 8px 15px rgba(0,0,0,0.4));
            animation: santaFloat 3s ease-in-out infinite;
        }

        @keyframes santaFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* –ü—Ä–∞–≤–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ - –ø–æ–¥–∞—Ä–∫–∏ */
        .right-side {
            width: 60%;
            position: relative;
            padding: 15px;
            overflow: auto;
            -webkit-overflow-scrolling: touch;
        }

        .gifts-mountain {
            position: relative;
            width: 100%;
            min-height: 400px;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: flex-end;
            gap: 15px;
            padding: 20px;
            z-index: 2;
        }

        /* –ú–µ—à–æ–∫ –î–µ–¥–∞ –ú–æ—Ä–æ–∑–∞ */
        .santa-bag {
            position: absolute;
            bottom: 20px;
            right: 20px;
            width: 150px;
            height: 200px;
            z-index: 10;
            transform-origin: bottom center;
            transition: all 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
            pointer-events: none;
        }

        .bag-inner {
            width: 100%;
            height: 100%;
            background: url('bag_empty.png') no-repeat center;
            background-size: contain;
            filter: drop-shadow(0 10px 20px rgba(0,0,0,0.4));
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –ø–æ–¥–∞—Ä–∫–æ–≤ */
        .gift {
            width: 60px;
            height: 60px;
            cursor: pointer;
            position: relative;
            transition: all 0.3s;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            filter: drop-shadow(0 5px 10px rgba(0,0,0,0.3));
            flex-shrink: 0;
            touch-action: manipulation;
        }

        .gift:hover, .gift:active {
            transform: translateY(-10px) scale(1.15) rotate(5deg);
            filter: drop-shadow(0 8px 15px rgba(255,255,255,0.4));
        }

        .gift.clicked {
            animation: giftShake 0.5s;
        }

        @keyframes giftShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px) rotate(-5deg); }
            75% { transform: translateX(5px) rotate(5deg); }
        }

        .gift.collected {
            animation: flyToBag 1.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
            pointer-events: none;
        }

        @keyframes flyToBag {
            0% {
                transform: translate(0, 0) rotate(0deg) scale(1);
                opacity: 1;
            }
            50% {
                transform: translate(calc(-50vw + 300px), -30vh) rotate(180deg) scale(1.2);
                opacity: 1;
            }
            100% {
                transform: translate(calc(-50vw + 250px), -60vh) rotate(360deg) scale(0);
                opacity: 0;
            }
        }

        /* –°–Ω–µ–∂–∏–Ω–∫–∏ */
        .snowflakes-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .snowflake {
            position: absolute;
            top: -50px;
            background-size: contain;
            background-repeat: no-repeat;
            opacity: 0.8;
            filter: drop-shadow(0 0 5px rgba(255,255,255,0.5));
        }

        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –≤–æ–ø—Ä–æ—Å–æ–º */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
            padding: 20px;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }

        .modal-content {
            background: linear-gradient(135deg, #fff, #f8f8f8);
            padding: 30px;
            border-radius: 25px;
            max-width: 600px;
            width: 100%;
            color: #333;
            box-shadow: 
                0 25px 50px rgba(0, 0, 0, 0.5),
                0 0 0 10px #FF9800,
                0 0 0 15px #FF5722;
            border: 5px solid #fff;
            position: relative;
            animation: modalAppear 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            margin: auto;
        }

        @keyframes modalAppear {
            0% { transform: scale(0) rotate(-180deg); opacity: 0; }
            100% { transform: scale(1) rotate(0deg); opacity: 1; }
        }

        .modal-content h3 {
            color: #D32F2F;
            margin-bottom: 20px;
            font-size: 1.8rem;
            text-align: center;
            text-shadow: 2px 2px 0 #FFECB3;
            line-height: 1.3;
        }

        .word-container {
            margin: 20px 0;
            padding: 15px;
            background: linear-gradient(135deg, #E3F2FD, #BBDEFB);
            border-radius: 15px;
            border: 3px solid #2196F3;
            overflow-x: auto;
            white-space: nowrap;
        }

        .word-display {
            font-size: 1.8rem;
            text-align: center;
            margin-bottom: 15px;
            font-weight: bold;
            color: #1a237e;
            letter-spacing: 2px;
            display: inline-block;
            min-width: min-content;
        }

        .letter-slot {
            display: inline-block;
            width: 50px;
            height: 50px;
            margin: 0 5px;
            border-bottom: 4px solid #2196F3;
            position: relative;
            vertical-align: middle;
        }

        .letter-slot input {
            width: 100%;
            height: 100%;
            font-size: 1.8rem;
            text-align: center;
            border: none;
            background: transparent;
            color: #D32F2F;
            font-weight: bold;
            outline: none;
            text-transform: uppercase;
            font-family: 'Comic Neue', cursive;
        }

        .letter-slot input:focus {
            background: rgba(33, 150, 243, 0.1);
            border-radius: 10px;
        }

        .letter-slot.filled {
            animation: letterPop 0.3s;
        }

        @keyframes letterPop {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .word-part {
            display: inline-block;
            margin: 0 2px;
            font-size: 1.8rem;
            color: #1a237e;
            vertical-align: middle;
        }

        .timer-display {
            text-align: center;
            font-size: 1.2rem;
            margin: 15px 0;
            color: #666;
        }

        #time-left {
            font-weight: bold;
            color: #D32F2F;
            font-size: 1.3rem;
        }

        .bonus-indicator {
            text-align: center;
            font-size: 1.1rem;
            margin: 15px 0;
            color: #4CAF50;
            font-weight: bold;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s;
        }

        .bonus-indicator.show {
            opacity: 1;
            transform: translateY(0);
            animation: bonusFlash 0.5s;
        }

        @keyframes bonusFlash {
            0%, 100% { color: #4CAF50; }
            50% { color: #FFEB3B; }
        }

        .hint-area {
            margin: 15px 0;
            padding: 12px;
            background: #FFF3E0;
            border-radius: 10px;
            border-left: 5px solid #FF9800;
            font-size: 1rem;
            display: none;
            animation: hintAppear 0.5s;
            word-break: break-word;
            white-space: normal;
        }

        @keyframes hintAppear {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .button-container {
            display: flex;
            gap: 15px;
            margin-top: 25px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn-primary, .btn-secondary {
            padding: 12px 25px;
            font-size: 1.1rem;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Comic Neue', cursive;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            min-width: 140px;
            touch-action: manipulation;
        }

        .btn-primary {
            background: linear-gradient(45deg, #4CAF50, #2E7D32);
            color: white;
            flex: 1;
        }

        .btn-primary:hover, .btn-primary:active {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(76, 175, 80, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(45deg, #757575, #424242);
            color: white;
            flex: 1;
        }

        .btn-secondary:hover, .btn-secondary:active {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(117, 117, 117, 0.4);
        }

        /* –°–ª–æ–≤–∞—Ä—å */
        .dictionary-content {
            max-width: 700px;
            max-height: 80vh;
            display: flex;
            flex-direction: column;
        }

        .dictionary-list {
            flex: 1;
            overflow-y: auto;
            margin: 20px 0;
            padding-right: 15px;
            -webkit-overflow-scrolling: touch;
        }

        .dictionary-item {
            padding: 15px;
            margin: 10px 0;
            background: #fff;
            border-radius: 10px;
            border-left: 5px solid #4CAF50;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            transition: all 0.3s;
        }

        .dictionary-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .dictionary-word {
            font-weight: bold;
            font-size: 1.2rem;
            color: #1a237e;
            margin-bottom: 5px;
            word-break: break-word;
        }

        .dictionary-hint {
            font-size: 0.95rem;
            color: #666;
            font-style: italic;
            word-break: break-word;
        }

        .dictionary-item.not-studied {
            opacity: 0.5;
            border-left-color: #ccc;
        }

        .dictionary-item.not-studied:hover {
            opacity: 0.8;
        }

        /* –≠–∫—Ä–∞–Ω –ø–æ–±–µ–¥—ã –∏ –ø–æ—Ä–∞–∂–µ–Ω–∏—è */
        .win-screen, .lose-screen {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 1001;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
            padding: 20px;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }

        .win-content, .lose-content {
            background: linear-gradient(135deg, #fff, #f0f0f0);
            padding: 40px;
            border-radius: 30px;
            max-width: 600px;
            text-align: center;
            border: 8px solid #4CAF50;
            animation: winAppear 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 
                0 30px 60px rgba(0,0,0,0.5),
                0 0 0 20px #FF9800;
            width: 100%;
            margin: auto;
        }

        .lose-content {
            border-color: #F44336;
            box-shadow: 
                0 30px 60px rgba(0,0,0,0.5),
                0 0 0 20px #FF5722;
        }

        @keyframes winAppear {
            0% { transform: scale(0) rotate(-180deg); opacity: 0; }
            70% { transform: scale(1.1) rotate(10deg); opacity: 1; }
            100% { transform: scale(1) rotate(0deg); opacity: 1; }
        }

        .win-content h2, .lose-content h2 {
            color: #D32F2F;
            font-size: 2.5rem;
            margin-bottom: 20px;
            text-shadow: 3px 3px 0 #FFECB3;
            line-height: 1.3;
        }

        .win-content p, .lose-content p {
            font-size: 1.3rem;
            margin: 15px 0;
            color: #333;
        }

        .stats-summary {
            margin: 25px 0;
            padding: 20px;
            background: linear-gradient(135deg, #E8F5E9, #C8E6C9);
            border-radius: 15px;
            border: 3px solid #4CAF50;
        }

        .stat-item {
            font-size: 1.2rem;
            margin: 10px 0;
            color: #2E7D32;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
        @media (max-width: 1200px) {
            .game-scene {
                flex-direction: column;
                min-height: 700px;
            }
            
            .left-side, .right-side {
                width: 100%;
            }
            
            .left-side {
                height: 40%;
                padding: 15px;
            }
            
            .right-side {
                height: 60%;
                padding: 10px;
            }
            
            .tree-container {
                height: 200px;
                margin-bottom: 10px;
            }
            
            .santa-container {
                height: 150px;
            }
            
            .gifts-mountain {
                min-height: 300px;
                padding: 10px;
                gap: 10px;
            }
            
            .gift {
                width: 50px;
                height: 50px;
            }
            
            .santa-bag {
                width: 120px;
                height: 160px;
                bottom: 10px;
                right: 10px;
            }
        }

        @media (max-width: 768px) {
            .game-container {
                padding: 10px;
                min-height: 100vh;
            }
            
            .game-header {
                flex-direction: column;
                gap: 15px;
                padding: 15px;
                margin-bottom: 15px;
            }
            
            .lives, .stats, .progress {
                width: 100%;
                justify-content: center;
            }
            
            .stats {
                flex-wrap: wrap;
                gap: 10px;
            }
            
            .progress {
                margin: 10px 0;
                max-width: 100%;
            }
            
            .game-scene {
                border-radius: 15px;
                border-width: 2px;
                min-height: 600px;
            }
            
            .left-side {
                padding: 10px;
                height: 35%;
            }
            
            .tree-container {
                height: 150px;
                margin-bottom: 5px;
            }
            
            .santa-container {
                height: 100px;
            }
            
            .right-side {
                height: 65%;
                padding: 5px;
            }
            
            .gifts-mountain {
                min-height: 250px;
                gap: 8px;
                padding: 5px;
                justify-content: space-around;
            }
            
            .gift {
                width: 45px;
                height: 45px;
            }
            
            .santa-bag {
                width: 100px;
                height: 130px;
                bottom: 5px;
                right: 5px;
            }
            
            .modal-content {
                padding: 20px;
                margin: 10px;
            }
            
            .modal-content h3 {
                font-size: 1.5rem;
            }
            
            .word-display, .word-part {
                font-size: 1.4rem;
            }
            
            .letter-slot {
                width: 40px;
                height: 40px;
                margin: 0 3px;
            }
            
            .letter-slot input {
                font-size: 1.4rem;
            }
            
            .button-container {
                flex-direction: column;
                gap: 10px;
            }
            
            .btn-primary, .btn-secondary {
                width: 100%;
                min-width: auto;
            }
            
            .win-content, .lose-content {
                padding: 25px;
                margin: 10px;
            }
            
            .win-content h2, .lose-content h2 {
                font-size: 2rem;
            }
        }

        @media (max-width: 480px) {
            .gift {
                width: 40px;
                height: 40px;
            }
            
            .santa-bag {
                width: 80px;
                height: 100px;
            }
            
            .letter-slot {
                width: 35px;
                height: 35px;
            }
            
            .word-display, .word-part {
                font-size: 1.2rem;
            }
            
            .modal-content h3 {
                font-size: 1.3rem;
            }
        }

        /* –£–ª—É—á—à–µ–Ω–∏—è –¥–ª—è —Ç–∞—á-—É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
        @media (hover: none) and (pointer: coarse) {
            .gift:hover {
                transform: none;
            }
            
            .gift:active {
                transform: translateY(-10px) scale(1.15) rotate(5deg);
            }
            
            .dictionary-btn:hover,
            .btn-primary:hover,
            .btn-secondary:hover {
                transform: none;
            }
            
            .dictionary-btn:active,
            .btn-primary:active,
            .btn-secondary:active {
                transform: translateY(-3px);
            }
        }

        /* –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ iOS */
        @supports (-webkit-touch-callout: none) {
            .game-container {
                min-height: -webkit-fill-available;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <!-- –®–∞–ø–∫–∞ —Å –∂–∏–∑–Ω—è–º–∏ –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º -->
        <div class="game-header">
            <div class="lives">
                <span>–ñ–∏–∑–Ω–∏:</span>
                <div class="hearts">
                    <span class="heart">‚ù§Ô∏è</span>
                    <span class="heart">‚ù§Ô∏è</span>
                    <span class="heart">‚ù§Ô∏è</span>
                </div>
            </div>
            
            <div class="stats">
                <div class="timer-container">
                    <span>‚è±Ô∏è –í—Ä–µ–º—è:</span>
                    <span id="timer">10</span>
                </div>
                <div class="bonus-container">
                    <span>‚≠ê –ë–æ–Ω—É—Å—ã:</span>
                    <span id="bonus-count">0</span>
                </div>
            </div>
            
            <div class="progress">
                <div class="progress-text">
                    <span>–ü–æ–¥–∞—Ä–∫–æ–≤ –≤ –º–µ—à–∫–µ:</span>
                    <span id="gifts-collected">0</span>/<span id="gifts-total">61</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill"></div>
                </div>
            </div>
            
            <button id="dictionary-btn" class="dictionary-btn">üìñ –°–ª–æ–≤–∞—Ä—å</button>
        </div>

        <!-- –ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ -->
        <div class="game-scene">
            <!-- –õ–µ–≤–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ - —ë–ª–∫–∞ –∏ –¥–µ–¥ –º–æ—Ä–æ–∑ -->
            <div class="left-side">
                <div class="tree-container">
                    <div id="tree"></div>
                    <div id="garland" class="garland">
                        <div class="light"></div><div class="light"></div><div class="light"></div>
                        <div class="light"></div><div class="light"></div><div class="light"></div>
                        <div class="light"></div><div class="light"></div><div class="light"></div>
                    </div>
                </div>
                
                <div class="santa-container">
                    <div id="santa"></div>
                </div>
            </div>

            <!-- –ü—Ä–∞–≤–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ - –ø–æ–¥–∞—Ä–∫–∏ -->
            <div class="right-side">
                <!-- –ú–µ—à–æ–∫ –î–µ–¥–∞ –ú–æ—Ä–æ–∑–∞ -->
                <div id="santa-bag" class="santa-bag">
                    <div class="bag-inner"></div>
                </div>
                
                <!-- –ì–æ—Ä–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ -->
                <div id="gifts-mountain" class="gifts-mountain">
                    <!-- –ü–æ–¥–∞—Ä–∫–∏ –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å -->
                </div>
                
                <!-- –°–Ω–µ–∂–∏–Ω–∫–∏ -->
                <div id="snowflakes-container" class="snowflakes-container">
                    <!-- –°–Ω–µ–∂–∏–Ω–∫–∏ –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å -->
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –≤–æ–ø—Ä–æ—Å–æ–º -->
        <div id="question-modal" class="modal">
            <div class="modal-content">
                <h3>–í—Å—Ç–∞–≤—å—Ç–µ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –±—É–∫–≤—ã</h3>
                
                <div class="word-container">
                    <div id="word-display" class="word-display">
                        <!-- –°–ª–æ–≤–æ —Å –ø—Ä–æ–ø—É—Å–∫–∞–º–∏ –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å -->
                    </div>
                </div>
                
                <div class="timer-display">
                    ‚è±Ô∏è –û—Å—Ç–∞–ª–æ—Å—å –≤—Ä–µ–º–µ–Ω–∏: <span id="time-left">10</span> —Å–µ–∫
                </div>
                
                <div id="bonus-indicator" class="bonus-indicator">
                    ‚≠ê –ë—ã—Å—Ç—Ä—ã–π –æ—Ç–≤–µ—Ç! +1 –±–æ–Ω—É—Å
                </div>
                
                <!-- –ü–æ–¥—Å–∫–∞–∑–∫–∞ -->
                <div id="hint-area" class="hint-area"></div>
                
                <!-- –ö–Ω–æ–ø–∫–∏ -->
                <div class="button-container">
                    <button id="submit-answer" class="btn-primary">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
                    <button id="hint-btn" class="btn-secondary">–ü–æ–¥—Å–∫–∞–∑–∫–∞</button>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–ª–æ–≤–∞—Ä—è -->
        <div id="dictionary-modal" class="modal">
            <div class="modal-content dictionary-content">
                <h3>üìö –°–ª–æ–≤–∞—Ä—å –∏–∑—É—á–µ–Ω–Ω—ã—Ö —Å–ª–æ–≤</h3>
                <div id="dictionary-list" class="dictionary-list">
                    <!-- –ò–∑—É—á–µ–Ω–Ω—ã–µ —Å–ª–æ–≤–∞ –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å -->
                </div>
                <button id="close-dictionary" class="btn-primary">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –ø–æ–±–µ–¥—ã -->
        <div id="win-screen" class="win-screen">
            <div class="win-content">
                <h2>üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! üéâ</h2>
                <p>–í—ã —Å–æ–±—Ä–∞–ª–∏ –≤—Å–µ –ø–æ–¥–∞—Ä–∫–∏!</p>
                <p>–î–µ–¥ –ú–æ—Ä–æ–∑ –∑–∞–∂–µ–≥ —ë–ª–æ—á–∫—É!</p>
                
                <div class="stats-summary">
                    <div class="stat-item">üéÅ –°–æ–±—Ä–∞–Ω–æ –ø–æ–¥–∞—Ä–∫–æ–≤: <span id="final-gifts">61</span></div>
                    <div class="stat-item">‚≠ê –ü–æ–ª—É—á–µ–Ω–æ –±–æ–Ω—É—Å–æ–≤: <span id="final-bonus">0</span></div>
                    <div class="stat-item">‚ù§Ô∏è –û—Å—Ç–∞–ª–æ—Å—å –∂–∏–∑–Ω–µ–π: <span id="final-lives">3</span></div>
                </div>
                
                <button id="restart-btn" class="btn-primary">–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –ø–æ—Ä–∞–∂–µ–Ω–∏—è -->
        <div id="lose-screen" class="lose-screen">
            <div class="lose-content">
                <h2>üòî –ü–æ–¥–∞—Ä–∫–∏ –Ω–µ —Å–æ–±—Ä–∞–Ω—ã</h2>
                <p>–£ –î–µ–¥–∞ –ú–æ—Ä–æ–∑–∞ –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å —Å–∏–ª—ã!</p>
                <button id="try-again-btn" class="btn-primary">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞</button>
            </div>
        </div>
    </div>

    <script>
        // –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–ª–æ–≤
        const vocabularyWords = [
            {
                id: 1,
                word: "–∫–æ–º–ø–∞–Ω–∏—è",
                question: "–∫..–º–ø–∞–Ω–∏—è (–º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ)",
                answer: "–æ",
                hint: "–ó–∞–ø–æ–º–Ω–∏: –∫–û–º–ø–∞–Ω–∏—è –¥—Ä—É–∑–µ–π, –∫–û–º–ø–∞–Ω–∏—è –¥–ª—è –ø–æ—Ö–æ–¥–∞",
                studied: false,
                pattern: ["–∫", "..", "–º–ø–∞–Ω–∏—è"]
            },
            {
                id: 2,
                word: "–∫–∞–º–æ—Ä–∫–∞",
                question: "–∫‚Ä¶–º–æ—Ä–∫–∞",
                answer: "–∞",
                hint: "–ü—Ä–æ–≤–µ—Ä–æ—á–Ω–æ–µ —Å–ª–æ–≤–æ: –∫–ê–º–æ—Ä–Ω—ã–π (–º–∞–ª–µ–Ω—å–∫–∏–π)",
                studied: false,
                pattern: ["–∫", "..", "–º–æ—Ä–∫–∞"]
            },
            {
                id: 3,
                word: "–∫–∞–Ω–∏–∫—É–ª—ã",
                question: "–∫..–Ω–∏–∫—É–ª—ã",
                answer: "–∞",
                hint: "–û—Ç –ª–∞—Ç–∏–Ω—Å–∫–æ–≥–æ 'canicula' - —Å–æ–±–∞—á–∫–∞ (–ø–µ—Ä–∏–æ–¥ –∂–∞—Ä–∫–∏—Ö –¥–Ω–µ–π)",
                studied: false,
                pattern: ["–∫", "..", "–Ω–∏–∫—É–ª—ã"]
            },
            {
                id: 4,
                word: "–∫–∞–Ω–¥–µ–ª—è–±—Ä",
                question: "–∫..–Ω..—Ç–µ–ª—å",
                answer: "–∞–µ",
                hint: "–î–≤–µ –±—É–∫–≤—ã: –ê –∏ –ï. –ü–æ–¥—Å–≤–µ—á–Ω–∏–∫ –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–≤–µ—á–µ–π",
                studied: false,
                pattern: ["–∫", "..", "–Ω", "..", "—Ç–µ–ª—å"]
            },
            {
                id: 5,
                word: "–∫–∞–Ω–æ–Ω–∞–¥–∞",
                question: "–∫..–Ω..–Ω–∞–¥–∞",
                answer: "–∞–æ",
                hint: "–ë—É–∫–≤—ã: –ê –∏ –û. –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è —Å—Ç—Ä–µ–ª—å–±–∞ –∏–∑ –º–Ω–æ–≥–∏—Ö –æ—Ä—É–¥–∏–π",
                studied: false,
                pattern: ["–∫", "..", "–Ω", "..", "–Ω–∞–¥–∞"]
            },
            {
                id: 6,
                word: "–∫–∞–Ω—Ü–µ–ª—è—Ä–∏—è",
                question: "–∫..–Ω—Ü..–ª—è—Ä–∏—è",
                answer: "–∞–µ",
                hint: "–ë—É–∫–≤—ã: –ê –∏ –ï. –û—Ç–¥–µ–ª —É—á—Ä–µ–∂–¥–µ–Ω–∏—è, –≤–µ–¥–∞—é—â–∏–π –¥–µ–ª–æ–ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ–º",
                studied: false,
                pattern: ["–∫", "..", "–Ω—Ü", "..", "–ª—è—Ä–∏—è"]
            },
            {
                id: 7,
                word: "–∫–∞–Ω—Ü–µ–ª—è—Ä—Å–∫–∏–π",
                question: "–∫..–Ω—Ü..–ª—è—Ä—Å–∫–∏–π",
                answer: "–∞–µ",
                hint: "–ë—É–∫–≤—ã: –ê –∏ –ï. –û—Ç–Ω–æ—Å—è—â–∏–π—Å—è –∫ –∫–∞–Ω—Ü–µ–ª—è—Ä–∏–∏",
                studied: false,
                pattern: ["–∫", "..", "–Ω—Ü", "..", "–ª—è—Ä—Å–∫–∏–π"]
            },
            {
                id: 8,
                word: "–∫–∞–ø—é—à–æ–Ω",
                question: "–∫..–ø..—à–æ–Ω",
                answer: "–∞—é",
                hint: "–ë—É–∫–≤—ã: –ê –∏ –Æ. –ß–∞—Å—Ç—å –æ–¥–µ–∂–¥—ã, –ø–æ–∫—Ä—ã–≤–∞—é—â–∞—è –≥–æ–ª–æ–≤—É",
                studied: false,
                pattern: ["–∫", "..", "–ø", "..", "—à–æ–Ω"]
            },
            {
                id: 9,
                word: "–∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω—ã–π",
                question: "–∫..—Ä–¥..–Ω–∞–ª—å–Ω—ã–π",
                answer: "–∞–∏",
                hint: "–ë—É–∫–≤—ã: –ê –∏ –ò. –°–∞–º—ã–π –≤–∞–∂–Ω—ã–π, –æ—Å–Ω–æ–≤–Ω–æ–π",
                studied: false,
                pattern: ["–∫", "..", "—Ä–¥", "..", "–Ω–∞–ª—å–Ω—ã–π"]
            },
            {
                id: 10,
                word: "–∫–∞—Ä–∏–∫–∞—Ç—É—Ä–∞",
                question: "–∫..—Ä..–∫–∞—Ç—É—Ä–∞",
                answer: "–∞–∏",
                hint: "–ë—É–∫–≤—ã: –ê –∏ –ò. –°–º–µ—à–Ω–æ–µ –∏–ª–∏ —Å–∞—Ç–∏—Ä–∏—á–µ—Å–∫–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ",
                studied: false,
                pattern: ["–∫", "..", "—Ä", "..", "–∫–∞—Ç—É—Ä–∞"]
            },
            {
                id: 11,
                word: "–∫–∞—Ä–∏–∫–∞—Ç—É—Ä–Ω—ã–π",
                question: "–∫..—Ä..–∫–∞—Ç—É—Ä–Ω—ã–π",
                answer: "–∞–∏",
                hint: "–ë—É–∫–≤—ã: –ê –∏ –ò. –ò–º–µ—é—â–∏–π –ø—Ä–µ—É–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π, —Å–º–µ—à–Ω–æ–π –≤–∏–¥",
                studied: false,
                pattern: ["–∫", "..", "—Ä", "..", "–∫–∞—Ç—É—Ä–Ω—ã–π"]
            },
            {
                id: 12,
                word: "–∫–∞—Ä–∏–∫–∞—Ç—É—Ä–∏—Å—Ç",
                question: "–∫..—Ä..–∫–∞—Ç—É—Ä–∏—Å—Ç",
                answer: "–∞–∏",
                hint: "–ë—É–∫–≤—ã: –ê –∏ –ò. –•—É–¥–æ–∂–Ω–∏–∫, —Ä–∏—Å—É—é—â–∏–π –∫–∞—Ä–∏–∫–∞—Ç—É—Ä—ã",
                studied: false,
                pattern: ["–∫", "..", "—Ä", "..", "–∫–∞—Ç—É—Ä–∏—Å—Ç"]
            },
            {
                id: 13,
                word: "–∫–∞—Å–∞—Ç–∫–∞",
                question: "–∫..—Å–∞—Ç–∫–∞ (–ø—Ç–∏—Ü–∞ —Å–µ–º–µ–π—Å—Ç–≤–∞ –ª–∞—Å—Ç–æ—á–µ–∫)",
                answer: "–∞",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –ê. –î–µ—Ä–µ–≤–µ–Ω—Å–∫–∞—è –ª–∞—Å—Ç–æ—á–∫–∞",
                studied: false,
                pattern: ["–∫", "..", "—Å–∞—Ç–∫–∞"]
            },
            {
                id: 14,
                word: "–∫–∞—Ç–∞–∫–æ–º–±–∞",
                question: "–∫..—Ç..–∫–æ–º–±–∞",
                answer: "–∞–∞",
                hint: "–î–≤–µ –±—É–∫–≤—ã –ê. –ü–æ–¥–∑–µ–º–Ω—ã–µ –≥–∞–ª–µ—Ä–µ–∏, —Ö–æ–¥—ã",
                studied: false,
                pattern: ["–∫", "..", "—Ç", "..", "–∫–æ–º–±–∞"]
            },
            {
                id: 15,
                word: "–∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∞",
                question: "–∫..—Ç..—Å—Ç—Ä–æ—Ñ–∞",
                answer: "–∞–∞",
                hint: "–î–≤–µ –±—É–∫–≤—ã –ê. –í–Ω–µ–∑–∞–ø–Ω–æ–µ –±–µ–¥—Å—Ç–≤–∏–µ, –∫—Ä—É—à–µ–Ω–∏–µ",
                studied: false,
                pattern: ["–∫", "..", "—Ç", "..", "—Å—Ç—Ä–æ—Ñ–∞"]
            },
            {
                id: 16,
                word: "–∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è",
                question: "–∫–≤..–ª..—Ñ..–∫–∞—Ü–∏—è",
                answer: "–∞–∏–∏",
                hint: "–¢—Ä–∏ –±—É–∫–≤—ã: –ê, –ò, –ò. –£—Ä–æ–≤–µ–Ω—å –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏, —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å",
                studied: false,
                pattern: ["–∫–≤", "..", "–ª", "..", "—Ñ", "..", "–∫–∞—Ü–∏—è"]
            },
            {
                id: 17,
                word: "–∫–≤–∏—Ç–∞–Ω—Ü–∏—è",
                question: "–∫–≤..—Ç–∞–Ω—Ü–∏—è",
                answer: "–∏",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –ò. –î–æ–∫—É–º–µ–Ω—Ç –æ–± –æ–ø–ª–∞—Ç–µ",
                studied: false,
                pattern: ["–∫–≤", "..", "—Ç–∞–Ω—Ü–∏—è"]
            },
            {
                id: 18,
                word: "–∫–∏–Ω–µ–º–∞—Ç–æ–≥—Ä–∞—Ñ",
                question: "–∫–∏–Ω–µ–º..—Ç–æ–≥—Ä–∞—Ñ",
                answer: "–∞",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –ê. –ò—Å–∫—É—Å—Å—Ç–≤–æ –∫–∏–Ω–æ",
                studied: false,
                pattern: ["–∫–∏–Ω–µ–º", "..", "—Ç–æ–≥—Ä–∞—Ñ"]
            },
            {
                id: 19,
                word: "–∫–æ–≤–∞—Ä–Ω—ã–π",
                question: "–∫..–≤–∞—Ä–Ω—ã–π",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –ö–æ–≤–∞—Ä–Ω—ã–π - —Ö–∏—Ç—Ä—ã–π, –∑–ª–æ–Ω–∞–º–µ—Ä–µ–Ω–Ω—ã–π",
                studied: false,
                pattern: ["–∫", "..", "–≤–∞—Ä–Ω—ã–π"]
            },
            {
                id: 20,
                word: "–∫–æ–≤–∞—Ä—Å—Ç–≤–æ",
                question: "–∫..–≤–∞—Ä—Å—Ç–≤–æ",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –•–∏—Ç—Ä–æ—Å—Ç—å, –∑–ª–æ–π —É–º—ã—Å–µ–ª",
                studied: false,
                pattern: ["–∫", "..", "–≤–∞—Ä—Å—Ç–≤–æ"]
            },
            {
                id: 21,
                word: "–∫–æ–ª–¥—É–Ω",
                question: "–∫..–ª–¥—É–Ω",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –í–æ–ª—à–µ–±–Ω–∏–∫, —á–∞—Ä–æ–¥–µ–π",
                studied: false,
                pattern: ["–∫", "..", "–ª–¥—É–Ω"]
            },
            {
                id: 22,
                word: "–∫–æ–ª–¥–æ–≤–∞—Ç—å",
                question: "–∫..–ª–¥–æ–≤–∞—Ç—å",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –ó–∞–Ω–∏–º–∞—Ç—å—Å—è –∫–æ–ª–¥–æ–≤—Å—Ç–≤–æ–º",
                studied: false,
                pattern: ["–∫", "..", "–ª–¥–æ–≤–∞—Ç—å"]
            },
            {
                id: 23,
                word: "–∫–æ–ª–¥–æ–≤—Å–∫–æ–π",
                question: "–∫..–ª–¥–æ–≤—Å–∫–æ–π",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –û—Ç–Ω–æ—Å—è—â–∏–π—Å—è –∫ –∫–æ–ª–¥–æ–≤—Å—Ç–≤—É",
                studied: false,
                pattern: ["–∫", "..", "–ª–¥–æ–≤—Å–∫–æ–π"]
            },
            {
                id: 24,
                word: "–∫–æ–ª–µ–±–∞–Ω–∏–µ",
                question: "–∫..–ª–µ–±–∞–Ω–∏–µ",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –ù–µ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å, –∏–∑–º–µ–Ω–µ–Ω–∏–µ",
                studied: false,
                pattern: ["–∫", "..", "–ª–µ–±–∞–Ω–∏–µ"]
            },
            {
                id: 25,
                word: "–∫–æ–ª–µ–±–∞—Ç—å—Å—è",
                question: "–∫..–ª–µ–±–∞—Ç—å—Å—è",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –ë—ã—Ç—å –Ω–µ—É–≤–µ—Ä–µ–Ω–Ω—ã–º, —Å–æ–º–Ω–µ–≤–∞—Ç—å—Å—è",
                studied: false,
                pattern: ["–∫", "..", "–ª–µ–±–∞—Ç—å—Å—è"]
            },
            {
                id: 26,
                word: "–∫–æ–ª–ª–µ–∫—Ç–∏–≤",
                question: "–∫..–ª–ª–µ–∫—Ç–∏–≤",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –ì—Ä—É–ø–ø–∞ –ª—é–¥–µ–π, –æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã—Ö –æ–±—â–µ–π —Ä–∞–±–æ—Ç–æ–π",
                studied: false,
                pattern: ["–∫", "..", "–ª–ª–µ–∫—Ç–∏–≤"]
            },
            {
                id: 27,
                word: "–∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω—ã–π",
                question: "–∫..–ª–ª–µ–∫—Ç–∏–≤–Ω—ã–π",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –°–æ–≤–º–µ—Å—Ç–Ω—ã–π, –æ–±—â–∏–π",
                studied: false,
                pattern: ["–∫", "..", "–ª–ª–µ–∫—Ç–∏–≤–Ω—ã–π"]
            },
            {
                id: 28,
                word: "–∫–æ–ª–ª–µ–∫—Ü–∏—è",
                question: "–∫..–ª–ª–µ–∫—Ü–∏—è",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –°–∏—Å—Ç–µ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–±—Ä–∞–Ω–∏–µ —á–µ–≥–æ-–ª–∏–±–æ",
                studied: false,
                pattern: ["–∫", "..", "–ª–ª–µ–∫—Ü–∏—è"]
            },
            {
                id: 29,
                word: "–∫–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–Ω—ã–π",
                question: "–∫..–ª–ª–µ–∫—Ü–∏–æ–Ω–Ω—ã–π",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –û—Ç–Ω–æ—Å—è—â–∏–π—Å—è –∫ –∫–æ–ª–ª–µ–∫—Ü–∏–∏",
                studied: false,
                pattern: ["–∫", "..", "–ª–ª–µ–∫—Ü–∏–æ–Ω–Ω—ã–π"]
            },
            {
                id: 30,
                word: "–∫–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å",
                question: "–∫..–ª–ª–µ–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –°–æ–±–∏—Ä–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é",
                studied: false,
                pattern: ["–∫", "..", "–ª–ª–µ–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å"]
            },
            {
                id: 31,
                word: "–∫–æ–ª–æ—Å—Å–∞–ª—å–Ω—ã–π",
                question: "–∫..–ª..—Å—Å–∞–ª—å–Ω—ã–π",
                answer: "–æ–æ",
                hint: "–î–≤–µ –±—É–∫–≤—ã –û. –û–≥—Ä–æ–º–Ω—ã–π, –≥—Ä–æ–º–∞–¥–Ω—ã–π",
                studied: false,
                pattern: ["–∫", "..", "–ª", "..", "—Å—Å–∞–ª—å–Ω—ã–π"]
            },
            {
                id: 32,
                word: "–∫–æ–ª—ã—Ö–∞—Ç—å",
                question: "–∫..–ª—ã—Ö–∞—Ç—å",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –ü–ª–∞–≤–Ω–æ –∫–∞—á–∞—Ç—å, –∫–æ–ª–µ–±–∞—Ç—å",
                studied: false,
                pattern: ["–∫", "..", "–ª—ã—Ö–∞—Ç—å"]
            },
            {
                id: 33,
                word: "–∫–æ–ª—ã—Ö–∞—Ç—å—Å—è",
                question: "–∫..–ª—ã—Ö–∞—Ç—å—Å—è",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –ü–ª–∞–≤–Ω–æ –∫–∞—á–∞—Ç—å—Å—è",
                studied: false,
                pattern: ["–∫", "..", "–ª—ã—Ö–∞—Ç—å—Å—è"]
            },
            {
                id: 34,
                word: "–∫–æ–º–±–∏–Ω–∞—Ü–∏—è",
                question: "–∫..–º–±–∏–Ω–∞—Ü–∏—è",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –°–æ—á–µ—Ç–∞–Ω–∏–µ, —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ",
                studied: false,
                pattern: ["–∫", "..", "–º–±–∏–Ω–∞—Ü–∏—è"]
            },
            {
                id: 35,
                word: "–∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å",
                question: "–∫..–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –°–æ—á–µ—Ç–∞—Ç—å, —Å–æ–µ–¥–∏–Ω—è—Ç—å",
                studied: false,
                pattern: ["–∫", "..", "–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å"]
            },
            {
                id: 36,
                word: "–∫–æ–º–µ–¥–∏—è",
                question: "–∫..–º–µ–¥–∏—è",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –í–µ—Å—ë–ª–æ–µ –¥—Ä–∞–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ",
                studied: false,
                pattern: ["–∫", "..", "–º–µ–¥–∏—è"]
            },
            {
                id: 37,
                word: "–∫–æ–º–µ–¥–∏–π–Ω—ã–π",
                question: "–∫..–º–µ–¥–∏–π–Ω—ã–π",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –û—Ç–Ω–æ—Å—è—â–∏–π—Å—è –∫ –∫–æ–º–µ–¥–∏–∏",
                studied: false,
                pattern: ["–∫", "..", "–º–µ–¥–∏–π–Ω—ã–π"]
            },
            {
                id: 38,
                word: "–∫–æ–º–ø–∞–Ω–∏—è",
                question: "–∫..–º–ø–∞–Ω–∏—è (–≥—Ä—É–ø–ø–∞ –ª—é–¥–µ–π, —Ñ–∏—Ä–º–∞)",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –¢–æ—Ä–≥–æ–≤–æ–µ –∏–ª–∏ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–µ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–µ",
                studied: false,
                pattern: ["–∫", "..", "–º–ø–∞–Ω–∏—è"]
            },
            {
                id: 39,
                word: "–∫–æ–º–ø–µ—Ç–µ–Ω—Ç–Ω—ã–π",
                question: "–∫..–º–ø..—Ç–µ–Ω—Ç–Ω—ã–π",
                answer: "–æ–µ",
                hint: "–î–≤–µ –±—É–∫–≤—ã: –û –∏ –ï. –ó–Ω–∞—é—â–∏–π, –æ—Å–≤–µ–¥–æ–º–ª—ë–Ω–Ω—ã–π",
                studied: false,
                pattern: ["–∫", "..", "–º–ø", "..", "—Ç–µ–Ω—Ç–Ω—ã–π"]
            },
            {
                id: 40,
                word: "–∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏—è",
                question: "–∫..–º–ø..—Ç–µ–Ω—Ü–∏—è",
                answer: "–æ–µ",
                hint: "–î–≤–µ –±—É–∫–≤—ã: –û –∏ –ï. –ö—Ä—É–≥ –≤–æ–ø—Ä–æ—Å–æ–≤, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –∫—Ç–æ-–ª–∏–±–æ —Ö–æ—Ä–æ—à–æ –æ—Å–≤–µ–¥–æ–º–ª—ë–Ω",
                studied: false,
                pattern: ["–∫", "..", "–º–ø", "..", "—Ç–µ–Ω—Ü–∏—è"]
            },
            {
                id: 41,
                word: "–∫–æ–º–ø–æ–Ω–µ–Ω—Ç",
                question: "–∫..–º–ø..–Ω–µ–Ω—Ç",
                answer: "–æ–æ",
                hint: "–î–≤–µ –±—É–∫–≤—ã –û. –°–æ—Å—Ç–∞–≤–Ω–∞—è —á–∞—Å—Ç—å —á–µ–≥–æ-–ª–∏–±–æ",
                studied: false,
                pattern: ["–∫", "..", "–º–ø", "..", "–Ω–µ–Ω—Ç"]
            },
            {
                id: 42,
                word: "–∫–æ–º–ø—å—é—Ç–µ—Ä",
                question: "–∫..–º–ø—å—é—Ç–µ—Ä",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ-–≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞",
                studied: false,
                pattern: ["–∫", "..", "–º–ø—å—é—Ç–µ—Ä"]
            },
            {
                id: 43,
                word: "–∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–π",
                question: "–∫..–º–ø—å—é—Ç–µ—Ä–Ω—ã–π",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –û—Ç–Ω–æ—Å—è—â–∏–π—Å—è –∫ –∫–æ–º–ø—å—é—Ç–µ—Ä—É",
                studied: false,
                pattern: ["–∫", "..", "–º–ø—å—é—Ç–µ—Ä–Ω—ã–π"]
            },
            {
                id: 44,
                word: "–∫–æ–º—Ñ–æ—Ä—Ç",
                question: "–∫..–º—Ñ–æ—Ä—Ç",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –£—Å–ª–æ–≤–∏—è –∂–∏–∑–Ω–∏, –ø—Ä–µ–±—ã–≤–∞–Ω–∏—è, —É–¥–æ–±—Å—Ç–≤–∞",
                studied: false,
                pattern: ["–∫", "..", "–º—Ñ–æ—Ä—Ç"]
            },
            {
                id: 45,
                word: "–∫–æ–º—Ñ–æ—Ä—Ç–Ω—ã–π",
                question: "–∫..–º—Ñ–æ—Ä—Ç–Ω—ã–π",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –£–¥–æ–±–Ω—ã–π, —É—é—Ç–Ω—ã–π",
                studied: false,
                pattern: ["–∫", "..", "–º—Ñ–æ—Ä—Ç–Ω—ã–π"]
            },
            {
                id: 46,
                word: "–∫–æ–Ω–≤–µ—Ä—Ç",
                question: "–∫..–Ω–≤–µ—Ä—Ç",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –ë—É–º–∞–∂–Ω—ã–π –ø–∞–∫–µ—Ç –¥–ª—è –ø–∏—Å—å–º–∞",
                studied: false,
                pattern: ["–∫", "..", "–Ω–≤–µ—Ä—Ç"]
            },
            {
                id: 47,
                word: "–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç",
                question: "–∫..–Ω–∫—É—Ä–µ–Ω—Ç",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –°–æ–ø–µ—Ä–Ω–∏–∫, —Å–æ–∏—Å–∫–∞—Ç–µ–ª—å",
                studied: false,
                pattern: ["–∫", "..", "–Ω–∫—É—Ä–µ–Ω—Ç"]
            },
            {
                id: 48,
                word: "–∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è",
                question: "–∫..–Ω–∫—É—Ä–µ–Ω—Ü–∏—è",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –°–æ–ø–µ—Ä–Ω–∏—á–µ—Å—Ç–≤–æ, —Å–æ—Å—Ç—è–∑–∞–Ω–∏–µ",
                studied: false,
                pattern: ["–∫", "..", "–Ω–∫—É—Ä–µ–Ω—Ü–∏—è"]
            },
            {
                id: 49,
                word: "–∫–æ–Ω—Ç–∏–Ω–µ–Ω—Ç",
                question: "–∫..–Ω—Ç..–Ω–µ–Ω—Ç",
                answer: "–æ–∏",
                hint: "–î–≤–µ –±—É–∫–≤—ã: –û –∏ –ò. –ë–æ–ª—å—à–æ–π –º–∞—Å—Å–∏–≤ —Å—É—à–∏, –º–∞—Ç–µ—Ä–∏–∫",
                studied: false,
                pattern: ["–∫", "..", "–Ω—Ç", "..", "–Ω–µ–Ω—Ç"]
            },
            {
                id: 50,
                word: "–∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è",
                question: "–∫..–Ω—Ñ..—Ä–µ–Ω—Ü–∏—è",
                answer: "–æ–µ",
                hint: "–î–≤–µ –±—É–∫–≤—ã: –û –∏ –ï. –ë–æ–ª—å—à–æ–µ —Å–æ–±—Ä–∞–Ω–∏–µ, —Å–æ–≤–µ—â–∞–Ω–∏–µ",
                studied: false,
                pattern: ["–∫", "..", "–Ω—Ñ", "..", "—Ä–µ–Ω—Ü–∏—è"]
            },
            {
                id: 51,
                word: "–∫–æ–Ω—Ñ–ª–∏–∫—Ç",
                question: "–∫..–Ω—Ñ–ª–∏–∫—Ç",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –°—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–µ, —Å–µ—Ä—å—ë–∑–Ω–æ–µ —Ä–∞–∑–Ω–æ–≥–ª–∞—Å–∏–µ",
                studied: false,
                pattern: ["–∫", "..", "–Ω—Ñ–ª–∏–∫—Ç"]
            },
            {
                id: 52,
                word: "–∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å",
                question: "–∫..–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –ë—ã—Ç—å –≤ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ, —Å—Å–æ—Ä–∏—Ç—å—Å—è",
                studied: false,
                pattern: ["–∫", "..", "–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å"]
            },
            {
                id: 53,
                word: "–∫–æ–Ω—Ñ–æ—Ä–∫–∞",
                question: "–∫..–Ω—Ñ–æ—Ä–∫–∞",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –ß–∞—Å—Ç—å –∫—É—Ö–æ–Ω–Ω–æ–π –ø–ª–∏—Ç—ã –¥–ª—è –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è –ø–∏—â–∏",
                studied: false,
                pattern: ["–∫", "..", "–Ω—Ñ–æ—Ä–∫–∞"]
            },
            {
                id: 54,
                word: "–∫–æ—Ä–∏—Ñ–µ–π",
                question: "–∫..—Ä..—Ñ–µ–π",
                answer: "–æ–∏",
                hint: "–î–≤–µ –±—É–∫–≤—ã: –û –∏ –ò. –í—ã–¥–∞—é—â–∏–π—Å—è –¥–µ—è—Ç–µ–ª—å –Ω–∞ –∫–∞–∫–æ–º-–ª–∏–±–æ –ø–æ–ø—Ä–∏—â–µ",
                studied: false,
                pattern: ["–∫", "..", "—Ä", "..", "—Ñ–µ–π"]
            },
            {
                id: 55,
                word: "–∫–æ—Ä–∏—á–Ω–µ–≤—ã–π",
                question: "–∫..—Ä–∏—á–Ω–µ–≤—ã–π",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –¶–≤–µ—Ç–∞ –∂–∂—ë–Ω–æ–≥–æ —Å–∞—Ö–∞—Ä–∞, —Ç—ë–º–Ω–æ-–∂—ë–ª—Ç—ã–π",
                studied: false,
                pattern: ["–∫", "..", "—Ä–∏—á–Ω–µ–≤—ã–π"]
            },
            {
                id: 56,
                word: "–∫–æ—Ä–∑–∏–Ω–∞",
                question: "–∫..—Ä–∑–∏–Ω–∞",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –ü–ª–µ—Ç—ë–Ω–æ–µ –∏–∑–¥–µ–ª–∏–µ –¥–ª—è –Ω–æ—Å–∫–∏ —á–µ–≥–æ-–ª–∏–±–æ",
                studied: false,
                pattern: ["–∫", "..", "—Ä–∑–∏–Ω–∞"]
            },
            {
                id: 57,
                word: "–∫–æ—Ä–æ–ª—å",
                question: "–∫..—Ä–æ–ª—å",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –¢–∏—Ç—É–ª –º–æ–Ω–∞—Ä—Ö–∞, —Ü–∞—Ä—å",
                studied: false,
                pattern: ["–∫", "..", "—Ä–æ–ª—å"]
            },
            {
                id: 58,
                word: "–∫–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–æ",
                question: "–∫..—Ä–æ–ª–µ–≤—Å—Ç–≤–æ",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ –≤–æ –≥–ª–∞–≤–µ —Å –∫–æ—Ä–æ–ª—ë–º",
                studied: false,
                pattern: ["–∫", "..", "—Ä–æ–ª–µ–≤—Å—Ç–≤–æ"]
            },
            {
                id: 59,
                word: "–∫–æ—Å–∞—Ç–∫–∞",
                question: "–∫..—Å–∞—Ç–∫–∞ (–º–ª–µ–∫–æ–ø–∏—Ç–∞—é—â–µ–µ —Å–µ–º–µ–π—Å—Ç–≤–∞ –¥–µ–ª—å—Ñ–∏–Ω–æ–≤—ã—Ö)",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –ö—Ä—É–ø–Ω—ã–π –¥–µ–ª—å—Ñ–∏–Ω, —Ö–∏—â–Ω–∏–∫",
                studied: false,
                pattern: ["–∫", "..", "—Å–∞—Ç–∫–∞"]
            },
            {
                id: 60,
                word: "–∫–æ—Å–º–æ—Å",
                question: "–∫–æ—Å–º..—Å",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –í—Å–µ–ª–µ–Ω–Ω–∞—è, –º–∏—Ä",
                studied: false,
                pattern: ["–∫–æ—Å–º", "..", "—Å"]
            },
            {
                id: 61,
                word: "–∫—Ä–æ–º–µ—à–Ω—ã–π",
                question: "–∫—Ä..–º–µ—à–Ω—ã–π",
                answer: "–æ",
                hint: "–û–¥–Ω–∞ –±—É–∫–≤–∞ –û. –ë–µ—Å–ø—Ä–æ—Å–≤–µ—Ç–Ω—ã–π, –ø–æ–ª–Ω—ã–π —Å—Ç—Ä–∞–¥–∞–Ω–∏–π",
                studied: false,
                pattern: ["–∫—Ä", "..", "–º–µ—à–Ω—ã–π"]
            }
        ];

        class VocabularyGame {
            constructor() {
                this.words = vocabularyWords;
                this.currentWordIndex = null;
                this.lives = 3;
                this.collectedGifts = 0;
                this.totalGifts = this.words.length;
                this.gameActive = true;
                this.bonusPoints = 0;
                this.timeLeft = 10;
                this.timerInterval = null;
                this.startTime = null;
                
                // DOM —ç–ª–µ–º–µ–Ω—Ç—ã
                this.elements = {
                    giftsMountain: document.getElementById('gifts-mountain'),
                    questionModal: document.getElementById('question-modal'),
                    dictionaryModal: document.getElementById('dictionary-modal'),
                    winScreen: document.getElementById('win-screen'),
                    loseScreen: document.getElementById('lose-screen'),
                    wordDisplay: document.getElementById('word-display'),
                    hintArea: document.getElementById('hint-area'),
                    hearts: document.querySelectorAll('.heart'),
                    giftsCollected: document.getElementById('gifts-collected'),
                    giftsTotal: document.getElementById('gifts-total'),
                    progressFill: document.querySelector('.progress-fill'),
                    santaBag: document.getElementById('santa-bag'),
                    bagInner: document.querySelector('.bag-inner'),
                    santa: document.getElementById('santa'),
                    tree: document.getElementById('tree'),
                    garland: document.getElementById('garland'),
                    dictionaryList: document.getElementById('dictionary-list'),
                    timer: document.getElementById('timer'),
                    timeLeft: document.getElementById('time-left'),
                    bonusCount: document.getElementById('bonus-count'),
                    bonusIndicator: document.getElementById('bonus-indicator'),
                    snowflakesContainer: document.getElementById('snowflakes-container'),
                    finalGifts: document.getElementById('final-gifts'),
                    finalBonus: document.getElementById('final-bonus'),
                    finalLives: document.getElementById('final-lives')
                };
                
                this.inputSlots = [];
                this.init();
            }
            
            init() {
                this.setupEventListeners();
                this.createGifts();
                this.createSnowflakes();
                this.updateUI();
                this.loadProgress();
                this.handleViewport();
            }
            
            setupEventListeners() {
                // –ö–Ω–æ–ø–∫–∏ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
                document.getElementById('submit-answer').addEventListener('click', () => this.checkAnswer());
                document.getElementById('hint-btn').addEventListener('click', () => this.showHint());
                
                // –ö–Ω–æ–ø–∫–∏ —Å–ª–æ–≤–∞—Ä—è
                document.getElementById('dictionary-btn').addEventListener('click', () => this.showDictionary());
                document.getElementById('close-dictionary').addEventListener('click', () => this.closeDictionary());
                
                // –ö–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
                document.getElementById('restart-btn').addEventListener('click', () => this.restartGame());
                document.getElementById('try-again-btn').addEventListener('click', () => this.restartGame());
                
                // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –æ–∫–Ω–∞
                window.addEventListener('click', (e) => {
                    if (e.target === this.elements.questionModal) {
                        this.closeQuestionModal();
                    }
                    if (e.target === this.elements.dictionaryModal) {
                        this.closeDictionary();
                    }
                });
                
                // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –ø—Ä–∏ –¥–≤–æ–π–Ω–æ–º —Ç–∞–ø–µ
                let lastTouchEnd = 0;
                document.addEventListener('touchend', function(event) {
                    const now = Date.now();
                    if (now - lastTouchEnd <= 300) {
                        event.preventDefault();
                    }
                    lastTouchEnd = now;
                }, false);
                
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏
                window.addEventListener('orientationchange', () => this.handleViewport());
                window.addEventListener('resize', () => this.handleViewport());
            }
            
            handleViewport() {
                // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—ã—Å–æ—Ç—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
                if ('visualViewport' in window) {
                    const visualViewport = window.visualViewport;
                    document.documentElement.style.height = `${visualViewport.height}px`;
                }
            }
            
            createGifts() {
                // –û—á–∏—â–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
                this.elements.giftsMountain.innerHTML = '';
                
                // –¢–∏–ø—ã –ø–æ–¥–∞—Ä–∫–æ–≤ (4 —Ü–≤–µ—Ç–∞)
                const giftTypes = [
                    'gift_red',
                    'gift_blue', 
                    'gift_green',
                    'gift_yellow'
                ];
                
                // –°–æ–∑–¥–∞–µ–º –ø–æ–¥–∞—Ä–∫–∏
                this.words.forEach((word, index) => {
                    const giftType = giftTypes[index % giftTypes.length];
                    
                    const gift = document.createElement('div');
                    gift.className = 'gift';
                    gift.dataset.index = index;
                    gift.style.backgroundImage = `url('${giftType}.png')`;
                    
                    // –°–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –≤ –≥–æ—Ä–µ (—Å —É—á–µ—Ç–æ–º –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤)
                    const left = 5 + Math.random() * 85;
                    const bottom = Math.random() * 40;
                    const rotation = -20 + Math.random() * 40;
                    const scale = 0.8 + Math.random() * 0.4;
                    
                    gift.style.left = `${left}%`;
                    gift.style.bottom = `${bottom}%`;
                    gift.style.transform = `rotate(${rotation}deg) scale(${scale})`;
                    
                    gift.addEventListener('click', () => this.openGift(index));
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ç–∞—á-—Å–æ–±—ã—Ç–∏–π –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
                    gift.addEventListener('touchstart', (e) => {
                        e.preventDefault();
                        gift.classList.add('clicked');
                    });
                    
                    gift.addEventListener('touchend', (e) => {
                        e.preventDefault();
                        gift.classList.remove('clicked');
                        this.openGift(index);
                    });
                    
                    // –ï—Å–ª–∏ —Å–ª–æ–≤–æ —É–∂–µ –∏–∑—É—á–µ–Ω–æ, –ø–æ–¥–∞—Ä–æ–∫ —Å–æ–±—Ä–∞–Ω
                    if (word.studied) {
                        gift.classList.add('collected');
                        gift.style.pointerEvents = 'none';
                    }
                    
                    this.elements.giftsMountain.appendChild(gift);
                });
            }
            
            createSnowflakes() {
                // –û—á–∏—â–∞–µ–º —Å—Ç–∞—Ä—ã–µ —Å–Ω–µ–∂–∏–Ω–∫–∏
                this.elements.snowflakesContainer.innerHTML = '';
                
                // –°–æ–∑–¥–∞–µ–º 30 —Å–Ω–µ–∂–∏–Ω–æ–∫ (–º–µ–Ω—å—à–µ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö)
                const snowflakeCount = window.innerWidth < 768 ? 20 : 30;
                
                for (let i = 0; i < snowflakeCount; i++) {
                    const snowflake = document.createElement('div');
                    snowflake.className = 'snowflake';
                    
                    // –°–ª—É—á–∞–π–Ω—ã–π —Ç–∏–ø —Å–Ω–µ–∂–∏–Ω–∫–∏
                    const snowflakeType = Math.floor(Math.random() * 3) + 1;
                    snowflake.style.backgroundImage = `url('snowflake${snowflakeType}.png')`;
                    
                    // –°–ª—É—á–∞–π–Ω—ã–π —Ä–∞–∑–º–µ—Ä
                    const size = 10 + Math.random() * 25;
                    snowflake.style.width = `${size}px`;
                    snowflake.style.height = `${size}px`;
                    
                    // –°–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
                    const left = Math.random() * 100;
                    snowflake.style.left = `${left}%`;
                    
                    // –°–ª—É—á–∞–π–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –∏ –∑–∞–¥–µ—Ä–∂–∫–∞
                    const duration = 8 + Math.random() * 12;
                    const delay = Math.random() * 5;
                    
                    snowflake.style.animation = `
                        snowfall ${duration}s linear ${delay}s infinite,
                        sway ${3 + Math.random() * 4}s ease-in-out ${delay}s infinite alternate
                    `;
                    
                    this.elements.snowflakesContainer.appendChild(snowflake);
                }
                
                // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π
                const style = document.createElement('style');
                style.textContent = `
                    @keyframes snowfall {
                        0% {
                            transform: translateY(-100px) rotate(0deg);
                            opacity: 0;
                        }
                        10% {
                            opacity: 0.8;
                        }
                        90% {
                            opacity: 0.8;
                        }
                        100% {
                            transform: translateY(100vh) rotate(${360 + Math.random() * 360}deg);
                            opacity: 0;
                        }
                    }
                    
                    @keyframes sway {
                        0%, 100% {
                            transform: translateX(0);
                        }
                        50% {
                            transform: translateX(${50 + Math.random() * 100}px);
                        }
                    }
                `;
                document.head.appendChild(style);
            }
            
            openGift(index) {
                if (!this.gameActive) return;
                
                const word = this.words[index];
                this.currentWordIndex = index;
                
                // –ï—Å–ª–∏ —Å–ª–æ–≤–æ —É–∂–µ –∏–∑—É—á–µ–Ω–æ, –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ–º
                if (word.studied) return;
                
                // –ê–Ω–∏–º–∞—Ü–∏—è –∫–ª–∏–∫–∞ –Ω–∞ –ø–æ–¥–∞—Ä–æ–∫
                const gift = document.querySelector(`.gift[data-index="${index}"]`);
                gift.classList.add('clicked');
                
                // –£–±–∏—Ä–∞–µ–º –∫–ª–∞—Å—Å –∞–Ω–∏–º–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ 0.5 —Å–µ–∫—É–Ω–¥—ã
                setTimeout(() => {
                    gift.classList.remove('clicked');
                }, 500);
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
                this.showQuestion(word);
            }
            
            showQuestion(word) {
                // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –ø–æ–ª—è –≤–≤–æ–¥–∞
                this.elements.wordDisplay.innerHTML = '';
                this.inputSlots = [];
                
                // –°–æ–∑–¥–∞–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ª–æ–≤–∞ —Å –ø—Ä–æ–ø—É—Å–∫–∞–º–∏
                word.pattern.forEach((part, partIndex) => {
                    if (part === '..') {
                        // –°–æ–∑–¥–∞–µ–º –ø–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ –±—É–∫–≤—ã
                        const slot = document.createElement('div');
                        slot.className = 'letter-slot';
                        
                        const input = document.createElement('input');
                        input.type = 'text';
                        input.maxLength = 1;
                        input.dataset.index = this.inputSlots.length;
                        
                        // –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
                        input.setAttribute('inputmode', 'text');
                        input.setAttribute('autocapitalize', 'characters');
                        
                        input.addEventListener('input', (e) => {
                            // –ü–µ—Ä–µ–≤–æ–¥–∏–º –≤ –≤–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä
                            e.target.value = e.target.value.toUpperCase();
                            
                            // –ê–≤—Ç–æ–ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –ø–æ–ª—é
                            if (e.target.value.length === 1) {
                                const nextIndex = parseInt(e.target.dataset.index) + 1;
                                const nextInput = document.querySelector(`.letter-slot input[data-index="${nextIndex}"]`);
                                if (nextInput) {
                                    nextInput.focus();
                                }
                            }
                            
                            // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–≥–æ –ø–æ–ª—è
                            slot.classList.add('filled');
                            setTimeout(() => slot.classList.remove('filled'), 300);
                        });
                        
                        input.addEventListener('keydown', (e) => {
                            // –£–¥–∞–ª–µ–Ω–∏–µ –±—É–∫–≤—ã –∏ –ø–µ—Ä–µ—Ö–æ–¥ –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É –ø–æ–ª—é
                            if (e.key === 'Backspace' && e.target.value === '') {
                                const prevIndex = parseInt(e.target.dataset.index) - 1;
                                const prevInput = document.querySelector(`.letter-slot input[data-index="${prevIndex}"]`);
                                if (prevInput) {
                                    prevInput.focus();
                                }
                            }
                        });
                        
                        slot.appendChild(input);
                        this.elements.wordDisplay.appendChild(slot);
                        this.inputSlots.push(input);
                    } else {
                        // –ü—Ä–æ—Å—Ç–æ —Ç–µ–∫—Å—Ç
                        const span = document.createElement('span');
                        span.className = 'word-part';
                        span.textContent = part;
                        this.elements.wordDisplay.appendChild(span);
                    }
                });
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –±—É–∫–≤
                this.elements.hintArea.textContent = `–ù—É–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å ${word.answer.length} –±—É–∫–≤${word.answer.length > 1 ? '—ã' : '—É'}`;
                this.elements.hintArea.style.display = 'block';
                
                // –°–∫—Ä—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –±–æ–Ω—É—Å–∞
                this.elements.bonusIndicator.classList.remove('show');
                
                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ç–∞–π–º–µ—Ä
                this.timeLeft = 10;
                this.elements.timeLeft.textContent = this.timeLeft;
                this.elements.timer.textContent = this.timeLeft;
                
                // –ó–∞–ø–æ–º–∏–Ω–∞–µ–º –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞
                this.startTime = Date.now();
                
                // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä
                this.startTimer();
                
                // –§–æ–∫—É—Å –Ω–∞ –ø–µ—Ä–≤–æ–µ –ø–æ–ª–µ –≤–≤–æ–¥–∞ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
                if (this.inputSlots.length > 0) {
                    setTimeout(() => {
                        this.inputSlots[0].focus();
                        // –î–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –ø—ã—Ç–∞–µ–º—Å—è –≤—ã–∑–≤–∞—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
                        if ('ontouchstart' in window) {
                            this.inputSlots[0].click();
                        }
                    }, 300);
                }
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
                this.elements.questionModal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            }
            
            startTimer() {
                if (this.timerInterval) {
                    clearInterval(this.timerInterval);
                }
                
                this.timerInterval = setInterval(() => {
                    this.timeLeft--;
                    this.elements.timeLeft.textContent = this.timeLeft;
                    this.elements.timer.textContent = this.timeLeft;
                    
                    if (this.timeLeft <= 0) {
                        clearInterval(this.timerInterval);
                        this.timeUp();
                    }
                }, 1000);
            }
            
            timeUp() {
                this.lives--;
                this.updateHearts();
                
                const word = this.words[this.currentWordIndex];
                this.elements.hintArea.textContent = `–í—Ä–µ–º—è –≤—ã—à–ª–æ! –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: "${word.answer.toUpperCase()}" (${word.hint})`;
                this.elements.hintArea.style.display = 'block';
                
                if (this.lives <= 0) {
                    setTimeout(() => {
                        this.gameOver();
                    }, 2000);
                }
            }
            
            checkAnswer() {
                clearInterval(this.timerInterval);
                
                const word = this.words[this.currentWordIndex];
                let userAnswer = '';
                
                // –°–æ–±–∏—Ä–∞–µ–º –æ—Ç–≤–µ—Ç –∏–∑ –≤—Å–µ—Ö –ø–æ–ª–µ–π –≤–≤–æ–¥–∞
                this.inputSlots.forEach(input => {
                    userAnswer += input.value.toLowerCase();
                });
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Ç–≤–µ—Ç
                if (userAnswer === word.answer) {
                    // –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
                    const timeTaken = (Date.now() - this.startTime) / 1000;
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –±—ã—Å—Ç—Ä—ã–π –æ—Ç–≤–µ—Ç (–º–µ–Ω–µ–µ 5 —Å–µ–∫—É–Ω–¥)
                    if (timeTaken < 5) {
                        this.bonusPoints++;
                        this.elements.bonusCount.textContent = this.bonusPoints;
                        this.elements.bonusIndicator.classList.add('show');
                    }
                    
                    // –ü–æ–º–µ—á–∞–µ–º —Å–ª–æ–≤–æ –∫–∞–∫ –∏–∑—É—á–µ–Ω–Ω–æ–µ
                    word.studied = true;
                    
                    // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ–ª–µ—Ç–∞ –ø–æ–¥–∞—Ä–∫–∞
                    this.animateGiftToBag();
                    
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
                    this.saveProgress();
                    
                    // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —á–µ—Ä–µ–∑ —Å–µ–∫—É–Ω–¥—É
                    setTimeout(() => {
                        this.closeQuestionModal();
                        this.updateUI();
                        this.checkWinCondition();
                    }, 1500);
                    
                } else {
                    // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
                    this.lives--;
                    this.updateHearts();
                    
                    this.elements.hintArea.textContent = `–ù–µ–≤–µ—Ä–Ω–æ. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: "${word.answer.toUpperCase()}" (${word.hint})`;
                    this.elements.hintArea.style.display = 'block';
                    
                    // –ï—Å–ª–∏ –∂–∏–∑–Ω–∏ –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å
                    if (this.lives <= 0) {
                        setTimeout(() => {
                            this.gameOver();
                        }, 2000);
                    }
                }
            }
            
            showHint() {
                const word = this.words[this.currentWordIndex];
                this.elements.hintArea.textContent = word.hint;
                this.elements.hintArea.style.display = 'block';
                
                // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –ø–æ–¥—Å–∫–∞–∑–∫–∏
                this.elements.hintArea.style.animation = 'none';
                setTimeout(() => {
                    this.elements.hintArea.style.animation = 'hintAppear 0.5s';
                }, 10);
            }
            
            animateGiftToBag() {
                const gifts = document.querySelectorAll('.gift');
                const currentGift = gifts[this.currentWordIndex];
                
                if (currentGift) {
                    currentGift.classList.add('collected');
                }
                
                // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –º–µ—à–æ–∫
                this.collectedGifts++;
                const scale = 1 + (this.collectedGifts / this.totalGifts) * 0.8;
                this.elements.santaBag.style.transform = `scale(${scale})`;
                
                // –ú–µ–Ω—è–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–µ—à–∫–∞, –µ—Å–ª–∏ –æ–Ω –ø–æ–ª–Ω—ã–π
                if (this.collectedGifts / this.totalGifts > 0.8) {
                    this.elements.bagInner.style.backgroundImage = "url('/bag_full.png')";
                }
                
                // –ê–Ω–∏–º–∞—Ü–∏—è –î–µ–¥–∞ –ú–æ—Ä–æ–∑–∞
                this.elements.santa.style.animation = 'none';
                setTimeout(() => {
                    this.elements.santa.style.animation = 'santaFloat 0.5s 3';
                }, 10);
            }
            
            updateUI() {
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫ –ø–æ–¥–∞—Ä–∫–æ–≤
                this.elements.giftsCollected.textContent = this.collectedGifts;
                this.elements.giftsTotal.textContent = this.totalGifts;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
                const progressPercent = (this.collectedGifts / this.totalGifts) * 100;
                this.elements.progressFill.style.width = `${progressPercent}%`;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å–µ—Ä–¥—Ü–∞
                this.updateHearts();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –±–æ–Ω—É—Å—ã
                this.elements.bonusCount.textContent = this.bonusPoints;
            }
            
            updateHearts() {
                this.elements.hearts.forEach((heart, index) => {
                    if (index < this.lives) {
                        heart.style.opacity = '1';
                        heart.style.transform = 'scale(1)';
                    } else {
                        heart.style.opacity = '0.3';
                        heart.style.transform = 'scale(0.8)';
                    }
                });
            }
            
            closeQuestionModal() {
                this.elements.questionModal.style.display = 'none';
                clearInterval(this.timerInterval);
                document.body.style.overflow = 'auto';
                
                // –°–∫—Ä—ã–≤–∞–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
                if ('ontouchstart' in window) {
                    document.activeElement.blur();
                }
            }
            
            showDictionary() {
                this.elements.dictionaryList.innerHTML = '';
                
                this.words.forEach((word, index) => {
                    const item = document.createElement('div');
                    item.className = `dictionary-item ${word.studied ? '' : 'not-studied'}`;
                    
                    const wordEl = document.createElement('div');
                    wordEl.className = 'dictionary-word';
                    wordEl.textContent = word.word;
                    
                    const hintEl = document.createElement('div');
                    hintEl.className = 'dictionary-hint';
                    hintEl.textContent = word.studied ? `‚úì –ò–∑—É—á–µ–Ω–æ - ${word.hint}` : '–ï—â–µ –Ω–µ –∏–∑—É—á–µ–Ω–æ';
                    
                    item.appendChild(wordEl);
                    item.appendChild(hintEl);
                    this.elements.dictionaryList.appendChild(item);
                });
                
                this.elements.dictionaryModal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            }
            
            closeDictionary() {
                this.elements.dictionaryModal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
            
            checkWinCondition() {
                if (this.collectedGifts >= this.totalGifts) {
                    setTimeout(() => {
                        this.winGame();
                    }, 1000);
                }
            }
            
            winGame() {
                this.gameActive = false;
                clearInterval(this.timerInterval);
                
                // –ó–∞–∂–∏–≥–∞–µ–º –≥–∏—Ä–ª—è–Ω–¥—É
                this.elements.garland.style.opacity = '1';
                
                // –ê–Ω–∏–º–∞—Ü–∏—è –î–µ–¥–∞ –ú–æ—Ä–æ–∑–∞
                this.elements.santa.style.animation = 'santaFloat 1s infinite';
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                this.elements.finalGifts.textContent = this.collectedGifts;
                this.elements.finalBonus.textContent = this.bonusPoints;
                this.elements.finalLives.textContent = this.lives;
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω –ø–æ–±–µ–¥—ã
                setTimeout(() => {
                    this.elements.winScreen.style.display = 'flex';
                    document.body.style.overflow = 'hidden';
                }, 2000);
            }
            
            gameOver() {
                this.gameActive = false;
                clearInterval(this.timerInterval);
                this.elements.loseScreen.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            }
            
            restartGame() {
                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
                this.words.forEach(word => {
                    word.studied = false;
                });
                
                this.lives = 3;
                this.collectedGifts = 0;
                this.bonusPoints = 0;
                this.gameActive = true;
                clearInterval(this.timerInterval);
                
                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏–∏
                this.elements.garland.style.opacity = '0';
                this.elements.santaBag.style.transform = 'scale(1)';
                this.elements.bagInner.style.backgroundImage = "url('bag_empty.png')";
                
                // –°–∫—Ä—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω—ã
                this.elements.winScreen.style.display = 'none';
                this.elements.loseScreen.style.display = 'none';
                this.elements.questionModal.style.display = 'none';
                this.elements.dictionaryModal.style.display = 'none';
                
                // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–æ–∫—Ä—É—Ç–∫—É
                document.body.style.overflow = 'auto';
                
                // –ü–µ—Ä–µ—Å–æ–∑–¥–∞–µ–º –ø–æ–¥–∞—Ä–∫–∏
                this.createGifts();
                this.updateUI();
                
                // –û—á–∏—â–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å
                localStorage.removeItem('vocabularyGameProgress');
            }
            
            saveProgress() {
                const progress = {
                    words: this.words.map(word => word.studied),
                    lives: this.lives,
                    collectedGifts: this.collectedGifts,
                    bonusPoints: this.bonusPoints
                };
                localStorage.setItem('vocabularyGameProgress', JSON.stringify(progress));
            }
            
            loadProgress() {
                const saved = localStorage.getItem('vocabularyGameProgress');
                if (saved) {
                    const progress = JSON.parse(saved);
                    
                    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏–∑—É—á–µ–Ω–Ω—ã–µ —Å–ª–æ–≤–∞
                    progress.words.forEach((studied, index) => {
                        if (this.words[index]) {
                            this.words[index].studied = studied;
                            if (studied) {
                                this.collectedGifts++;
                            }
                        }
                    });
                    
                    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∂–∏–∑–Ω–∏, —Å—á–µ—Ç –∏ –±–æ–Ω—É—Å—ã
                    this.lives = progress.lives || 3;
                    this.collectedGifts = progress.collectedGifts || 0;
                    this.bonusPoints = progress.bonusPoints || 0;
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
                    this.updateUI();
                    this.createGifts();
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Ä–∞–∑–º–µ—Ä –º–µ—à–∫–∞
                    const scale = 1 + (this.collectedGifts / this.totalGifts) * 0.8;
                    this.elements.santaBag.style.transform = `scale(${scale})`;
                    
                    // –ú–µ–Ω—è–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–µ—à–∫–∞, –µ—Å–ª–∏ –æ–Ω –ø–æ–ª–Ω—ã–π
                    if (this.collectedGifts / this.totalGifts > 0.8) {
                        this.elements.bagInner.style.backgroundImage = "url('bag_full.png')";
                    }
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ª–æ–≤–∏—è –ø–æ–±–µ–¥—ã
                    if (this.collectedGifts >= this.totalGifts) {
                        setTimeout(() => {
                            this.winGame();
                        }, 500);
                    }
                }
            }
        }

        // –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', () => {
            new VocabularyGame();
        });

        // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —Å–∫—Ä–æ–ª–ª–∞ –ø—Ä–∏ –∫–∞—Å–∞–Ω–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
        document.addEventListener('touchmove', function(e) {
            if (e.target.classList.contains('modal') || 
                e.target.closest('.modal') || 
                e.target.classList.contains('win-screen') || 
                e.target.classList.contains('lose-screen')) {
                e.preventDefault();
            }
        }, { passive: false });
    </script>
</body>
</html>
